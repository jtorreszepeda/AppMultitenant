@using Microsoft.AspNetCore.Components
@inject NavigationManager NavigationManager

<nav class="nav-menu">
    <div class="section-title">Administración</div>
    <hr class="divider" />
    <div class="nav-item">
        <NavLink href="/" Match="NavLinkMatch.All" class="nav-link">
            <span class="nav-icon">📊</span>
            <span>Dashboard</span>
        </NavLink>
    </div>
    
    <AuthorizeView Roles="SystemAdmin,TenantAdmin">
        <div class="nav-item">
            <NavLink href="/users" class="nav-link">
                <span class="nav-icon">👤</span>
                <span>Usuarios</span>
            </NavLink>
        </div>
    </AuthorizeView>
    
    <AuthorizeView Roles="SystemAdmin,TenantAdmin">
        <div class="nav-item">
            <NavLink href="/roles" class="nav-link">
                <span class="nav-icon">🔒</span>
                <span>Roles</span>
            </NavLink>
        </div>
    </AuthorizeView>
    
    <AuthorizeView Roles="SystemAdmin,TenantAdmin">
        <div class="nav-item">
            <NavLink href="/sectiondefinitions" class="nav-link">
                <span class="nav-icon">📋</span>
                <span>Definición de Secciones</span>
            </NavLink>
        </div>
    </AuthorizeView>
    
    <div class="section-title mt-4">Secciones</div>
    <hr class="divider" />
    @* Aquí se agregarán dinámicamente las secciones personalizadas *@
    <DynamicSectionNavItems />
    
    <AuthorizeView Roles="SystemAdmin">
        <div class="section-title mt-4">Sistema</div>
        <hr class="divider" />
        <div class="nav-item">
            <NavLink href="/systemadmin/tenants" class="nav-link">
                <span class="nav-icon">🏢</span>
                <span>Gestión de Inquilinos</span>
            </NavLink>
        </div>
    </AuthorizeView>
</nav>

@code {
    // Componente que se encargará de cargar dinámicamente las secciones disponibles
    // según el rol del usuario (placeholder)
    private class DynamicSectionNavItems : ComponentBase
    {
        // En una implementación real, este componente cargaría las secciones
        // desde un servicio de API y mostraría solo aquellas a las que el usuario
        // tiene permiso de acceso
    }
} 